<div class="main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="header">
                        <h4 class="title"> Orders</h4>
                    </div>


               <div class="content table-responsive table-full-width">
                          <table class="table table-hover table-striped">
                                <thead>
                                    <tr>
                                        <th *ngFor="let cell of headers">{{ cell }}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="my_row" *ngFor="let row of orders?.data" style="cursor: pointer">

                                        <td>{{row?.items?.length}}</td>
                                        <td>{{row?.user?.name}}</td>
                                        <!-- <td style="width: 100px !important">{{row?.email}}</td> -->
                                        <td>{{row?.user?.phone}}</td>
                                        <td>₦{{row?.shipping_fee | number}}</td>
                                        <td>₦{{row?.amount | number}}</td>
                                        <td>{{row?.ref}}</td>
                                        <td>{{row?.created_at | date: 'E. MMM d y'}}</td>
                                        <td>{{row?.status}}</td>
                                        <td>
                                                <div class="my_switch" *ngIf="row?.status === 'delivered'">
                                                        <label class="switch">
                                                                <input type="checkbox" (click)="changeStatus(row?.status, row?.id)" [checked]=true>
                                                                <span class="slider round"></span>
                                                        </label>
                                                </div>
                                                <div class="my_switch" *ngIf="row?.status === 'PENDING'">
                                                        <label class="switch">
                                                                <input type="checkbox" (click)="changeStatus(row?.status, row?.id)" [checked]=false>
                                                                <span class="slider round"></span>
                                                        </label>
                                                </div>
                                        </td>
                                        <td>
                                                <svg class="bi bi-eye" data-toggle="modal" [attr.data-target]="'#editProduct' + row?.id" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.134 13.134 0 0 0 1.66 2.043C4.12 11.332 5.88 12.5 8 12.5c2.12 0 3.879-1.168 5.168-2.457A13.134 13.134 0 0 0 14.828 8a13.133 13.133 0 0 0-1.66-2.043C11.879 4.668 10.119 3.5 8 3.5c-2.12 0-3.879 1.168-5.168 2.457A13.133 13.133 0 0 0 1.172 8z"/>
                                                    <path fill-rule="evenodd" d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                                                  </svg>

                                                <div class="modal fade" [attr.id]="'editProduct' + row?.id" data-backdrop="false" focus="true" tabindex="-1" role="dialog">
                                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" style="float: left !important">Items Purchased</h5>
                                                                <button type="button" style="float: right !important" class="close" data-dismiss="modal" aria-label="Close">
                                                                    <span aria-hidden="true">&times;</span>
                                                                </button>
                                                            </div>
                                                        <div class="modal-body" style="padding: 2% !important">
                                                              <div *ngFor="let item of row?.items" class="row">
                                                                  <label style="font-size: 15px !important; text-transform: capitalize !important" class="justify-content-between justify-text-between">
                                                                        <img style="border-radius: 5px; margin-right: 20px; margin-left: 20px" height="50px" width="50px" src="{{item?.colour?.image}}">Colour: {{item?.colour?.name}} &nbsp; | &nbsp; Quantity: {{item?.quantity}}&nbsp; | &nbsp;Amount: N{{item?.amount | number}}
                                                                  </label>
                                                                  <hr>
                                                              </div>                                                                          
                                                        </div>
                                                        </div>   
                                                    </div>
                                                </div>


                                        </td>
                                    </tr>
                                    <tr style="text-align: center !important">
                                        <ngb-pagination
                                            style="text-align: center !important"
                                            [(page)]="page"
                                            [pageSize]="pageSize"
                                            [collectionSize]="orders?.length">
                                        </ngb-pagination>
                                    </tr>
                                </tbody>
                          </table>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
